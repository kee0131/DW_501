<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>

    div{
        width: 300px;
        height: 600px;
        border: 2px solid  #c5c5c5;
        position: absolute;
        top: 100px;
        left: 200px;
        border-radius: 10px;
        padding: 0 10px;
        overflow: auto;
    }
    p{
        background-color: royalblue;
        padding: 10px 10px;
        border-radius: 10px;


    }
</style>
<body>
    <input type="text" id="input" placeholder="할일을 적어주세요"/>
    <button onclick="dbrudgml()">클릭</button>
<div>
    <!-- <p>할일1</p>
    <p>할일2</p>
    <p>할일3</p> -->
</div>
</body>
<script>

   function dbrudgml(){
    //.input요소를 가져온다
    const input=document.querySelector("#input");


    //2.가져온 input요소의 value를 꺼낸다.
    const inputVal =input.value;
    //2.1 가져온 value가 공백이면
    //내용을 입력해주세요. 라고 함수 종료
    if(inputVal== ""){
        alert("내용을 입력해주세요");
        return;
    }

    //3.p태그를 만든다
    const p =document.createElement("p");


        //4.만든 p태그에 가져온 input value를 넣는다
    p.innerHTML =inputVal;

    //4.1 0~255까지의 랜덤한 숫자 3개를 추출한다
    let colorArr  =[];
   
    for (let i=0; i<3; i++){
        colorArr[i]=parseInt(Math.random()*256);
    };
    console.log(colorArr);
    


    //4.2 추출한 랜덤숫자로 p태그의 백그라운드 컬러 바꿔준다

    p.style.backgroundColor=`rgb(${colorArr[0]},${colorArr[1]},${colorArr[2]})`;


    const luma=
    0.2126*colorArr[0]+ 0.7152 * colorArr[1]+0.0722 *colorArr[2] +0.7152
    console.log(luma);

    p.style.color =parseInt(luma)<= 155 ? "white" : "black";



        //5. div요소를 가져온다
        const div =document.querySelector("div");


        //6.가져온 h2요소에 만든 p태그를 추가한다
    div.append(p);

        //7.input의 value를 공백으로 바꿔준다.
        input.value="";
    



   };
</script>
</html>